<!DOCTYPE html>
<html>
<head>
  <title>Remote Job Execution</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="pandoc" />
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

<script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript">
jQuery(function(){
  jQuery('table').addClass('table table-condensed table-responsive'); 
  jQuery('[data-toggle="popover"]').popover();
});
</script>
  <link rel="stylesheet" href="../../style.css" type="text/css" />
</head>
<body data-spy="scroll" data-target=".toc-nav">
<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="container-fluid">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="https://www.rundeck.com/open-source">
      Rundeck
      <p class="small rd_version">← Return to Rundeck Project</p>
    </a>
  </div>
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <form class="navbar-form navbar-right" role="search"  action="/search/">
      <div class="form-group">
        <input type="text" class="form-control" name="q" placeholder="Search">
      </div>
      <button type="submit" class="btn btn-default">Submit</button>
    </form>
  </div>
  </div>
</nav>

<div class="container top breadcrumb_holder">
<div class="row">
<div class="col-sm-6">
<ol class="breadcrumb top">

    
        <li><a href="../../index.html">Rundeck Documentation (3.0.3)</a></li>
    
        <li><a href="../index.html">Administrator Guide</a></li>
    
    
    <li ><a href="index.html">Rundeck Configuration</a></li>
    <li class="active"><a href="remote-job-execution-pro.html">Remote Job Execution (Pro)</a></li>
</ol>
</div>
<div class="col-sm-6">
    <ul class="pager">
      <li class="previous"><a href="license-pro.html"><i class="glyphicon glyphicon-arrow-left"></i> License (Pro)</a></li>
      <li class="next"><a href="email-settings.html">Email Settings <i class="glyphicon glyphicon-arrow-right"></i></a></li>
    </ul>
</div>
</div>
<div class="row">
<div class="col-sm-12 text-right">
    <a class="btn btn-link top" href="https://github.com/rundeck/docs/issues/new?labels=bug&title=Documentation+bug"><i class="glyphicon glyphicon-flag"></i> Report a problem</a>
    <a class="btn btn-link top btn-edit-this-page" href="https://github.com/rundeck/docs/edit/3.0.x/en/administration/configuration/remote-job-execution.md"><i class="glyphicon glyphicon-pencil"></i>  Edit this page</a>
</div>
</div>
</div>
<div id="docbody">
<div class="container">
<div class="row">
<div class="col-sm-3 toc-nav">
<div class="nav">
<ul>
<li><a href="#cluster-remote-execution">Cluster Remote Execution</a></li>
<li><a href="#load-balanced-execution-policy">Load Balanced Execution Policy</a></li>
</ul>
</div>
</div>
<div class="col-sm-9">
<div class="page-header">
<h1 class="title">Remote Job Execution</h1>
</div>
<h3 id="cluster-remote-execution">Cluster Remote Execution</h3>
<p>This feature allows Rundeck Pro cluster members to forward job executions to other cluster members based on a policy configuration. By default, each member of the cluster executes jobs locally and does not forward them. You can define multiple profiles and assign different projects to different profiles. If a job is executed in a project which is not assigned to a specific profile, the default policy is used.</p>
<p>Configure the following remote execution policy parameters in <code>rundeck-config.properties</code>.</p>
<h4 id="policy">Policy</h4>
<pre><code>rundeck.clusterMode.remoteExecution.policy = &lt;Policy&gt;</code></pre>
<p>Choose from the following <Policy> settings: None - Default. Executes locally only Random - Executes randomly among allowed members RoundRobin - Executes round-robin style among allowed members Preset - Executes on one other preset member Load - Executes on a member based on load (Requires Pro Cluster 2.3.0 or a later release. See Enable Load Balanced Policy)</p>
<h4 id="list-of-allowed-members">List of Allowed Members</h4>
<pre><code>rundeck.clusterMode.remoteExecution.config.allowed = &lt;List of Allowed Members&gt;</code></pre>
<p>The <List of Allowed Members> determines additional cluster members that the policy can execute on. Enter values separated by a comma: Self - Execute locally Other - Any other member except this one UUID - A particular UUID /regex/ - A regular expression matching a UUID</p>
<p><strong>Example</strong></p>
<pre><code>rundeck.clusterMode.remoteExecution.config.allowed = self,/1C519C5A-4E78-4BE9-85EC-.+/</code></pre>
<p>The example configuration shows Self and a regular expression combined.</p>
<h4 id="list-of-member-tags">List of Member Tags</h4>
<p>The <List of Member Tags> parameter allows you to restrict the remote Cluster Members by using tags. The tags are similar to Node Tags. The special tag, Self, is automatically only assigned to the <em>local</em> cluster node. Set tags for a cluster member in the framework.properties file.</p>
<pre><code>rundeck.clusterMode.remoteExecution.config.allowedTags = &lt;List of Member Tags&gt;
rundeck.clusterMode.remoteExecution.config.preferredTags = &lt;List of Member Tags&gt;
rundeck.clusterMode.remoteExecution.config.activeOnly = true/false</code></pre>
<p><strong>Example</strong></p>
<pre><code>rundeck.server.uuid=...
rundeck.server.tags=worker,linux</code></pre>
<p>Allowed Tags policy is configured in a similar way, using comma-separated allowed values, or <code>+</code> separated tags, which require all tags. The example defines Round Robin execution on any other cluster member tagged as worker or secondary.</p>
<p><strong>Example</strong></p>
<pre><code>rundeck.clusterMode.remoteExecution.policy = RoundRobin
rundeck.clusterMode.remoteExecution.config.allowed = other
rundeck.clusterMode.remoteExecution.config.allowedTags = worker,secondary</code></pre>
<p>Use Preferred Tags to indicate that certain members are preferred. When Preferred Tags are defined, and some of the allowed members match those tags, the Preferred Members will be used. If no Preferred Members are available, the policy falls back to the Allowed Members that are available.</p>
<p><strong>Example</strong></p>
<p>This configuration defines Allowed Tags and Preferred Tags for Round Robin execution on any worker or secondary members, if available. Otherwise, use Round Robin on all other members.</p>
<pre><code>rundeck.clusterMode.remoteExecution.policy = RoundRobin
rundeck.clusterMode.remoteExecution.config.allowed = other
rundeck.clusterMode.remoteExecution.config.allowedTags = *
rundeck.clusterMode.remoteExecution.config.allowedTags = worker,secondary</code></pre>
<h4 id="profile-name">Profile Name</h4>
<p>Define additional profiles by name:</p>
<pre><code>rundeck.clusterMode.remoteExecution.profiles = profile1, profile2</code></pre>
<h4 id="project-name">Project Name</h4>
<p>Assign projects to a profile by name:</p>
<pre><code>rundeck.clusterMode.remoteExecution.profile.profile1.projects=projectA, projectB</code></pre>
<p>The following example defines a policy type and configuration for profile1:</p>
<pre><code>rundeck.clusterMode.remoteExecution.profile.profile1.policy= &lt;Policy&gt;
rundeck.clusterMode.remoteExecution.profile.profile1.config.allowed = &lt;List of Allowed Members&gt;
rundeck.clusterMode.remoteExecution.profile.profile1.config.allowedTags = &lt;List of Member Tags&gt;
rundeck.clusterMode.remoteExecution.profile.profile1.config.preferredTags = &lt;List of Member Tags&gt;
rundeck.clusterMode.remoteExecution.profile.profile1.config.activeOnly = true/false</code></pre>
<h3 id="load-balanced-execution-policy">Load Balanced Execution Policy</h3>
<p>This feature allows Rundeck Pro cluster members to forward job executions to other cluster members based on statistics calculated by the heartbeat process of each cluster member. Load is calculated for each member based on thread ratio and the percentage of CPU.</p>
<p>Note: You must be running Rundeck Pro 2.3.1 or a later release to use this feature.</p>
<p><strong>Example</strong></p>
<pre><code>rundeck.clusterMode.remoteExecution.config.criteria = threadRatio,load</code></pre>
<p>Each criteria can be weighted using a relative value:</p>
<pre><code>rundeck.clusterMode.remoteExecution.config.weights = 1.0,1.5</code></pre>
<p>Cluster members are sorted by the weighted load and placed into groups. Each group is given a weight, and the policy randomly chooses a group based on the proportional weight of the group. A member of the group is chosen randomly and used.</p>
<p><strong>Example</strong></p>
<pre><code>rundeck.clusterMode.remoteExecution.config.groupWeight=1,0,0,0</code></pre>
<p>The example defines four groups, each with 25% of the members. The weights define 100% chance of the first group being used.</p>
</div>
</div>
</div>
</div>

<div class="container bottom breadcrumb_holder">
<div class="row">
<div class="col-sm-6">
<ol class="breadcrumb bottom">

    
        <li><a href="../../index.html">Rundeck Documentation (3.0.3)</a></li>
    
        <li><a href="../index.html">Administrator Guide</a></li>
    
    
    <li ><a href="index.html">Rundeck Configuration</a></li>
    <li class="active"><a href="remote-job-execution-pro.html">Remote Job Execution (Pro)</a></li>
</ol>
</div>
<div class="col-sm-6">
    <ul class="pager">
      <li class="previous"><a href="license-pro.html"><i class="glyphicon glyphicon-arrow-left"></i> License (Pro)</a></li>
      <li class="next"><a href="email-settings.html">Email Settings <i class="glyphicon glyphicon-arrow-right"></i></a></li>
    </ul>
</div>
</div>
<div class="row">
<div class="col-sm-12 text-right">
    <a class="btn btn-link bottom" href="https://github.com/rundeck/docs/issues/new?labels=bug&title=Documentation+bug"><i class="glyphicon glyphicon-flag"></i> Report a problem</a>
    <a class="btn btn-link bottom btn-edit-this-page" href="https://github.com/rundeck/docs/edit/3.0.x/en/administration/configuration/remote-job-execution.md"><i class="glyphicon glyphicon-pencil"></i>  Edit this page</a>
</div>
</div>
</div>
<div class='container footer'>

<div class="row">
	<footer class="copy col-sm-12 text-muted">

<p>
<a class="btn btn-info btn-try-rundeck-pro" href="http://rundeck.com/" data-toggle="popover" data-trigger="hover" 
data-content="<ul class=&quot;list-unstyled&quot;>
	<li><i class=&quot;glyphicon glyphicon-gift&quot;></i> Try Rundeck Pro for Free</li>
	<li><i class=&quot;glyphicon glyphicon-flash&quot;></i> Get Exclusive Features</li>
	<li><i class=&quot;glyphicon glyphicon-briefcase&quot;></i> Get Professional Support</li>
	<li><i class=&quot;glyphicon glyphicon-heart&quot;></i> Support Open-source Development</li>
	<li><i class=&quot;glyphicon glyphicon-thumbs-up&quot;></i> Get home by 5 </li>
</ul>" data-html="true">
<i class="glyphicon glyphicon-hand-right"></i>
Try Rundeck Pro
</a>
</p>

<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Rundeck Documentation</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://simplifyops.com" property="cc:attributionName" rel="cc:attributionURL">Rundeck, Inc</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
<p>
&copy;2018 <a href="http://rundeck.com">Rundeck</a>
</p>
<p>
<span class="generated-date" title="2018-08-25T03:04:09UTC">2018-08-25T03:04:09UTC</span>
</p>
</footer>
</div>
</div>
<script type="text/javascript">
  

   var _gaq = [['_setAccount', 'UA-529275-13'], ['_trackPageview']];
   (function(d, t) {
    var g = d.createElement(t),
        s = d.getElementsByTagName(t)[0];
    g.async = true;
    g.src = ('https:' == location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g, s);
   })(document, 'script');
  </script>
<!-- Start of HubSpot Embed Code -->
<script type=“text/javascript” id=“hs-script-loader” async defer src=“//js.hs-scripts.com/2768099.js”></script>
<!-- End of HubSpot Embed Code -->
</body>
</html>
